/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { companiesDelete } from "../funcs/companiesDelete.js";
import { companiesGet } from "../funcs/companiesGet.js";
import { companiesUpdate } from "../funcs/companiesUpdate.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as components from "../models/components/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Companies extends ClientSDK {
  /**
   * Update company
   *
   * @remarks
   * Use the *Update company* endpoint to update both the name and description of the company.
   * If you use [groups](https://docs.codat.io/lending-api#/schemas/Group) to manage a set of companies, use the [Add company](https://docs.codat.io/lending-api#/operations/add-company-to-group) or [Remove company](https://docs.codat.io/lending-api#/operations/remove-company-from-group) endpoints to add or remove a company from a group.
   *
   * A [company](https://docs.codat.io/lending-api#/schemas/Company) represents a business sharing access to their data.
   * Each company can have multiple [connections](https://docs.codat.io/lending-api#/schemas/Connection) to different data sources, such as one connection to Xero for accounting data, two connections to Plaid for two bank accounts, and a connection to Zettle for POS data.
   */
  async update(
    companyId: string,
    companyRequestBody?: components.CompanyRequestBody | undefined,
    options?: RequestOptions,
  ): Promise<operations.UpdateCompanyResponse> {
    return unwrapAsync(companiesUpdate(
      this,
      companyId,
      companyRequestBody,
      options,
    ));
  }

  /**
   * Delete a company
   *
   * @remarks
   * The *Delete company* endpoint permanently deletes a [company](https://docs.codat.io/lending-api#/schemas/Company), its [connections](https://docs.codat.io/lending-api#/schemas/Connection) and any cached data. This operation is irreversible.
   *
   * A [company](https://docs.codat.io/lending-api#/schemas/Company) represents a business sharing access to their data.
   * Each company can have multiple [connections](https://docs.codat.io/lending-api#/schemas/Connection) to different data sources, such as one connection to Xero for accounting data, two connections to Plaid for two bank accounts, and a connection to Zettle for POS data.
   */
  async delete(
    companyId: string,
    options?: RequestOptions,
  ): Promise<operations.DeleteCompanyResponse> {
    return unwrapAsync(companiesDelete(
      this,
      companyId,
      options,
    ));
  }

  /**
   * Get company
   *
   * @remarks
   * The *Get company* endpoint returns a single company for a given `companyId`.
   *
   * A [company](https://docs.codat.io/lending-api#/schemas/Company) represents a business sharing access to their data.
   * Each company can have multiple [connections](https://docs.codat.io/lending-api#/schemas/Connection) to different data sources, such as one connection to Xero for accounting data, two connections to Plaid for two bank accounts, and a connection to Zettle for POS data.
   */
  async get(
    companyId: string,
    options?: RequestOptions,
  ): Promise<operations.GetCompanyResponse> {
    return unwrapAsync(companiesGet(
      this,
      companyId,
      options,
    ));
  }
}
